{"version":3,"file":"static/js/562.d62728be.chunk.js","mappings":"iPAqEA,UA/DiB,WACf,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAASG,EAAAA,EAAAA,MAArC,eAAOC,EAAP,KAAeC,EAAf,KAkCA,SAASC,EAAcC,GACrB,OAAOA,EAAKC,KAAI,YACd,MAAO,CAAEC,GADwB,EAAhBA,GACJC,MADoB,EAAZA,MAEtB,GACF,CAED,OAtCAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBADT,wCAGd,sGAEIR,EAAUF,EAAAA,EAAAA,SAFd,UAG8BW,EAAAA,EAAAA,GAAY,CACpCC,YAAa,qBACbH,WAAAA,IALN,mBAO2B,KAJfI,EAHZ,EAGYA,SAIIC,OAPhB,uBAQMZ,EAAUF,EAAAA,EAAAA,UARhB,kBASae,EAAAA,GAAAA,MAAY,mBATzB,OAWIhB,EAAUI,EAAcU,IACxBX,EAAUF,EAAAA,EAAAA,UAZd,kDAe0B,aAAlB,KAAMgB,UACRd,EAAUF,EAAAA,EAAAA,OACVe,EAAAA,GAAAA,MAAY,KAAMC,UAjBxB,2DAHc,sBA2Bd,OA3Bc,mCAyBdC,GAEO,WACLR,EAAWS,OACZ,CACF,GAAE,KASD,6BACE,2CACCjB,IAAWD,EAAAA,EAAAA,WACV,wBACGF,EAAOO,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjB,OACE,yBACE,SAAC,KAAD,CAAMY,GAAE,iBAAYb,GAAMc,MAAO,CAAEC,KAAM1B,GAAzC,SACGY,KAFID,EAMZ,QAKV,C,6FC/DDgB,EAAAA,EAAAA,SAAAA,QADiB,gCAGV,IAAMX,EAAW,mCAAG,oGACzBC,EADyB,EACzBA,YADyB,IAEzBW,MAAAA,OAFyB,MAEjB,KAFiB,EAGzBd,EAHyB,EAGzBA,WAHyB,UAKFa,EAAAA,EAAAA,GAAMV,EAAa,CACxCY,OAAQf,EAAWe,OACnBC,OAAQ,CAAEC,QAXE,mCAWgBH,MAAAA,KAPL,cAKnBI,EALmB,yBASlBA,EAASvB,MATS,2CAAH,qD,sDCNjB,IAAMJ,EAAS,CACpB4B,KAAM,OACNC,QAAS,UACTC,SAAU,WACVC,MAAO,Q","sources":["Pages/HomePage.jsx","utils/api.js","utils/constans.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { Link, useLocation } from 'react-router-dom';\nimport { fetchMovies } from 'utils/api';\nimport { STATUS } from 'utils/constans';\n\nconst HomePage = () => {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(STATUS.IDLE);\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    async function getMoviesTrend() {\n      try {\n        setStatus(STATUS.PENDING);\n        const { results } = await fetchMovies({\n          fetchParams: 'trending/movie/day',\n          controller,\n        });\n        if (results.length === 0) {\n          setStatus(STATUS.RESOLVED);\n          return toast.error('Nothing found!');\n        }\n        setMovies(getSimpleData(results));\n        setStatus(STATUS.RESOLVED);\n\n      } catch (error) {\n        if (error.message !== 'canceled') {\n          setStatus(STATUS.ERROR);\n          toast.error(error.message);\n        }\n      }\n    }\n\n    getMoviesTrend();\n\n    return () => {\n      controller.abort();\n    };\n  }, []);\n\n  function getSimpleData(data) {\n    return data.map(({ id, title }) => {\n      return { id, title };\n    });\n  }\n  \n  return (\n    <main>\n      <h1>Trending today</h1>\n      {status === STATUS.RESOLVED && (\n        <ul>\n          {movies.map(({ id, title }) => {\n            return (\n              <li key={id}>\n                <Link to={`movies/${id}`} state={{ from: location }}>\n                  {title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </main>\n  );\n};\n\nexport default HomePage;\n","import axios from 'axios';\n\nconst API_KEY = 'fd0a5f8c566fdaa6a63aeafeb4fed4c5';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchMovies = async ({\n  fetchParams,\n  query = null,\n  controller,\n}) => {\n  const response = await axios(fetchParams, {\n    signal: controller.signal,\n    params: { api_key: API_KEY, query },\n  });\n  return response.data;\n};\n","export const STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  ERROR: 'error',\n};\n"],"names":["location","useLocation","useState","movies","setMovies","STATUS","status","setStatus","getSimpleData","data","map","id","title","useEffect","controller","AbortController","fetchMovies","fetchParams","results","length","toast","message","getMoviesTrend","abort","to","state","from","axios","query","signal","params","api_key","response","IDLE","PENDING","RESOLVED","ERROR"],"sourceRoot":""}